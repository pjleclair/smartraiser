{"ast":null,"code":"import _slicedToArray from\"/Users/Phillip/repos/smartraiser/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./lists.css';// Assuming you have a corresponding CSS file for styling\nimport Notification from'./notification';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Lists=function Lists(_ref){var onFileUpload=_ref.onFileUpload,jsonData=_ref.jsonData,token=_ref.token;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),columnMappings=_useState2[0],setColumnMappings=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sampleData=_useState4[0],setSampleData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),updateMsg=_useState8[0],setUpdateMsg=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),configurations=_useState10[0],setConfigurations=_useState10[1];var _useState11=useState({name:''}),_useState12=_slicedToArray(_useState11,2),selectedConfiguration=_useState12[0],setSelectedConfiguration=_useState12[1];useEffect(function(){if(jsonData&&jsonData.length>0){setSampleData(jsonData[0]);setColumnMappings(Object.keys(jsonData[0]).reduce(function(acc,key,index){acc[index]='';return acc;},{}));}},[jsonData]);useEffect(function(){if(updateMsg!==\"\"){setTimeout(function(){setUpdateMsg(\"\");},5000);}},[updateMsg]);var handleInputChange=function handleInputChange(e){setName(e.target.value);};var saveList=function saveList(name,jsonData){var list={name:name,jsonData:jsonData};var config={headers:{Authorization:token}};console.log(list);axios.post('/api/lists/',list,config).then(function(response){console.log('List saved successfully:',response.data);setUpdateMsg({msg:response.data.message,color:\"#03DAC5\"});}).catch(function(error){console.error('Error saving list:',error);setUpdateMsg({msg:error.response.data.error,color:\"#CF6679\"});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"configurations\",children:[updateMsg&&/*#__PURE__*/_jsx(Notification,{message:updateMsg.msg,msgColor:updateMsg.color}),/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#FFFFFF\"},children:\"Lists\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select-config-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"upload-config-container\",children:[/*#__PURE__*/_jsx(\"p\",{style:{width:'fit-content',margin:'0'},children:\"Upload a file below to create a list:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileUpload}),jsonData&&jsonData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"list-info\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',width:'100%',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{display:'flex',width:'fit-content'},children:\"List name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Example List Name\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return saveList(name,jsonData);},children:\"Save List\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-container\",style:{display:'grid',gridTemplateRows:\"repeat(\".concat(jsonData.length,\",1fr)\")},children:jsonData.map(function(obj,i){return/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:\"repeat(\".concat(jsonData[0].length,\",1fr)\")},children:jsonData[i].map(function(obj){var style;if(i===0){style={fontWeight:'bolder',color:'#8CFC86',marginBottom:'.5rem'};}return/*#__PURE__*/_jsx(\"div\",{style:style,children:obj},obj);})},obj);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"mobile\"})]});};export default Lists;","map":{"version":3,"names":["React","useState","useEffect","axios","Notification","jsx","_jsx","jsxs","_jsxs","Lists","_ref","onFileUpload","jsonData","token","_useState","_useState2","_slicedToArray","columnMappings","setColumnMappings","_useState3","_useState4","sampleData","setSampleData","_useState5","_useState6","name","setName","_useState7","_useState8","updateMsg","setUpdateMsg","_useState9","_useState10","configurations","setConfigurations","_useState11","_useState12","selectedConfiguration","setSelectedConfiguration","length","Object","keys","reduce","acc","key","index","setTimeout","handleInputChange","e","target","value","saveList","list","config","headers","Authorization","console","log","post","then","response","data","msg","message","color","catch","error","className","children","msgColor","style","width","margin","type","onChange","display","gap","justifyContent","alignItems","placeholder","onClick","gridTemplateRows","concat","map","obj","i","gridTemplateColumns","fontWeight","marginBottom","id"],"sources":["/Users/Phillip/repos/smartraiser/frontend/src/components/lists.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './lists.css'; // Assuming you have a corresponding CSS file for styling\nimport Notification from './notification'\n\nconst Lists = ({ onFileUpload, jsonData, token }) => {\n  const [columnMappings, setColumnMappings] = useState({});\n  const [sampleData, setSampleData] = useState([]);\n  const [name, setName] = useState('');\n  const [updateMsg, setUpdateMsg] = useState(null);\n  const [configurations, setConfigurations] = useState([])\n  const [selectedConfiguration, setSelectedConfiguration] = useState({name:''})\n\n  useEffect(() => {\n    if (jsonData && jsonData.length > 0) {\n      setSampleData(jsonData[0]);\n      setColumnMappings(\n        Object.keys(jsonData[0]).reduce((acc, key, index) => {\n          acc[index] = '';\n          return acc;\n        }, {})\n      );\n    }\n  }, [jsonData]);\n\n  useEffect(()=> {\n    if (updateMsg !== \"\") {\n      setTimeout(() => {\n        setUpdateMsg(\"\")\n      }, 5000);\n    }\n  },[updateMsg])\n\n  const handleInputChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const saveList = (name,jsonData) => {\n    const list = {\n      name,\n      jsonData\n    }\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    }\n    console.log(list)\n    axios.post('/api/lists/', list, config)\n      .then((response) => {\n        console.log('List saved successfully:', response.data);\n        setUpdateMsg({msg: response.data.message, color: \"#03DAC5\"});\n      })\n      .catch((error) => {\n        console.error('Error saving list:', error);\n        setUpdateMsg({msg: error.response.data.error, color: \"#CF6679\"});\n      });\n  };\n\n  return (\n    <div className=\"configurations\">\n      {(updateMsg) && <Notification message={updateMsg.msg} msgColor={updateMsg.color}/>}\n      <h1 style={{color: \"#FFFFFF\"}}>Lists</h1>\n      <div className='select-config-container'>\n        <div className='upload-config-container'>\n          <p style={{width: 'fit-content', margin: '0'}}>Upload a file below to create a list:</p>\n          <input type=\"file\" onChange={onFileUpload} />\n          {jsonData && jsonData.length > 0 && (\n            <div className='list-info'>\n              <div style={{display:'flex', gap:'1rem',width:'100%',justifyContent:'center',alignItems:'center'}}>\n                <h2 style={{display:'flex',width:'fit-content'}}>List name:</h2>\n                <input type='text' placeholder='Example List Name' onChange={handleInputChange} />\n                <button onClick={()=>saveList(name,jsonData)}>Save List</button>\n              </div>\n              <div className=\"list-container\" style={{\n                display: 'grid',\n                gridTemplateRows: `repeat(${jsonData.length},1fr)`,\n              }}>\n                  {\n                    jsonData.map((obj,i) => {\n                      return (<div key={obj} style={{\n                        display: 'grid',\n                        gridTemplateColumns: `repeat(${jsonData[0].length},1fr)`\n                      }}>\n                        {jsonData[i].map((obj) => {\n                          let style;\n                          if (i === 0) {\n                            style = {fontWeight:'bolder',color:'#8CFC86',marginBottom:'.5rem'}\n                          }\n                          return (<div key={obj} style = {style}>\n                            {obj}\n                          </div>)\n                        })}\n                      </div>)\n                    })\n                  }\n              </div>\n            </div>\n            )}\n          </div>\n        </div>\n        <div id='mobile'></div>\n      </div>\n    );\n};\n\nexport default Lists;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}