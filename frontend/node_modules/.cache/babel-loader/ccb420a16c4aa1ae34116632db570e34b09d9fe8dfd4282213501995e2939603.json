{"ast":null,"code":"var _jsxFileName = \"/Users/Phillip/repos/smartraiser/frontend/src/components/configurations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './configurations.css'; // Assuming you have a corresponding CSS file for styling\nimport Notification from './notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Configurations = _ref => {\n  _s();\n  let {\n    onFileUpload,\n    jsonData,\n    token\n  } = _ref;\n  const [columnMappings, setColumnMappings] = useState({});\n  const [sampleData, setSampleData] = useState([]);\n  const [name, setName] = useState('');\n  const [updateMsg, setUpdateMsg] = useState(null);\n  const [configurations, setConfigurations] = useState([]);\n  const [selectedConfiguration, setSelectedConfiguration] = useState({\n    name: ''\n  });\n  useEffect(() => {\n    if (jsonData && jsonData.length > 0) {\n      setSampleData(jsonData[0]);\n      setColumnMappings(Object.keys(jsonData[0]).reduce((acc, key, index) => {\n        acc[index] = '';\n        return acc;\n      }, {}));\n    }\n  }, [jsonData]);\n  useEffect(() => {\n    if (updateMsg !== \"\") {\n      setTimeout(() => {\n        setUpdateMsg(\"\");\n      }, 5000);\n    }\n  }, [updateMsg]);\n  const handleInputChange = e => {\n    setName(e.target.value);\n  };\n  const saveList = (name, jsonData) => {\n    const list = {\n      name,\n      jsonData\n    };\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    };\n    console.log(list);\n    axios.post('/api/lists/', list, config).then(response => {\n      console.log('List saved successfully:', response.data);\n      setUpdateMsg({\n        msg: response.data.message,\n        color: \"#03DAC5\"\n      });\n    }).catch(error => {\n      console.error('Error saving list:', error);\n      setUpdateMsg({\n        msg: error.response.data.error,\n        color: \"#CF6679\"\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"configurations\",\n    children: [updateMsg && /*#__PURE__*/_jsxDEV(Notification, {\n      message: updateMsg.msg,\n      msgColor: updateMsg.color\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"#FFFFFF\"\n      },\n      children: \"Lists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"select-config-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-config-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            width: 'fit-content',\n            margin: '0'\n          },\n          children: \"Upload a file below to create a list:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: onFileUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), jsonData && jsonData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              width: '100%',\n              justifyContent: 'center',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                display: 'flex',\n                width: 'fit-content'\n              },\n              children: \"List name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Example List Name\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveList(name, jsonData),\n              children: \"Save List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list-container\",\n            style: {\n              display: 'grid',\n              gridTemplateRows: `repeat(${jsonData.length},1fr)`\n            },\n            children: jsonData.map((obj, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: `repeat(${jsonData[0].length},1fr)`\n                },\n                children: jsonData[i].map(obj => {\n                  let style;\n                  if (i === 0) {\n                    style = {\n                      fontWeight: 'bolder',\n                      color: '#8CFC86',\n                      marginBottom: '.5rem'\n                    };\n                  }\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: style,\n                    children: obj\n                  }, obj, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 35\n                  }, this);\n                })\n              }, obj, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 31\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mobile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Configurations, \"tqpL4ECXlvRr5yQg/ZaALioYEOo=\");\n_c = Configurations;\nexport default Configurations;\nvar _c;\n$RefreshReg$(_c, \"Configurations\");","map":{"version":3,"names":["React","useState","useEffect","axios","Notification","jsxDEV","_jsxDEV","Configurations","_ref","_s","onFileUpload","jsonData","token","columnMappings","setColumnMappings","sampleData","setSampleData","name","setName","updateMsg","setUpdateMsg","configurations","setConfigurations","selectedConfiguration","setSelectedConfiguration","length","Object","keys","reduce","acc","key","index","setTimeout","handleInputChange","e","target","value","saveList","list","config","headers","Authorization","console","log","post","then","response","data","msg","message","color","catch","error","className","children","msgColor","fileName","_jsxFileName","lineNumber","columnNumber","style","width","margin","type","onChange","display","gap","justifyContent","alignItems","placeholder","onClick","gridTemplateRows","map","obj","i","gridTemplateColumns","fontWeight","marginBottom","id","_c","$RefreshReg$"],"sources":["/Users/Phillip/repos/smartraiser/frontend/src/components/configurations.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './configurations.css'; // Assuming you have a corresponding CSS file for styling\nimport Notification from './notification'\n\nconst Configurations = ({ onFileUpload, jsonData, token }) => {\n  const [columnMappings, setColumnMappings] = useState({});\n  const [sampleData, setSampleData] = useState([]);\n  const [name, setName] = useState('');\n  const [updateMsg, setUpdateMsg] = useState(null);\n  const [configurations, setConfigurations] = useState([])\n  const [selectedConfiguration, setSelectedConfiguration] = useState({name:''})\n\n  useEffect(() => {\n    if (jsonData && jsonData.length > 0) {\n      setSampleData(jsonData[0]);\n      setColumnMappings(\n        Object.keys(jsonData[0]).reduce((acc, key, index) => {\n          acc[index] = '';\n          return acc;\n        }, {})\n      );\n    }\n  }, [jsonData]);\n\n  useEffect(()=> {\n    if (updateMsg !== \"\") {\n      setTimeout(() => {\n        setUpdateMsg(\"\")\n      }, 5000);\n    }\n  },[updateMsg])\n\n  const handleInputChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const saveList = (name,jsonData) => {\n    const list = {\n      name,\n      jsonData\n    }\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    }\n    console.log(list)\n    axios.post('/api/lists/', list, config)\n      .then((response) => {\n        console.log('List saved successfully:', response.data);\n        setUpdateMsg({msg: response.data.message, color: \"#03DAC5\"});\n      })\n      .catch((error) => {\n        console.error('Error saving list:', error);\n        setUpdateMsg({msg: error.response.data.error, color: \"#CF6679\"});\n      });\n  };\n\n  return (\n    <div className=\"configurations\">\n      {(updateMsg) && <Notification message={updateMsg.msg} msgColor={updateMsg.color}/>}\n      <h1 style={{color: \"#FFFFFF\"}}>Lists</h1>\n      <div className='select-config-container'>\n        <div className='upload-config-container'>\n          <p style={{width: 'fit-content', margin: '0'}}>Upload a file below to create a list:</p>\n          <input type=\"file\" onChange={onFileUpload} />\n          {jsonData && jsonData.length > 0 && (\n            <div className='list-info'>\n              <div style={{display:'flex', gap:'1rem',width:'100%',justifyContent:'center',alignItems:'center'}}>\n                <h2 style={{display:'flex',width:'fit-content'}}>List name:</h2>\n                <input type='text' placeholder='Example List Name' onChange={handleInputChange} />\n                <button onClick={saveList(name,jsonData)}>Save List</button>\n              </div>\n              <div className=\"list-container\" style={{\n                display: 'grid',\n                gridTemplateRows: `repeat(${jsonData.length},1fr)`,\n              }}>\n                  {\n                    jsonData.map((obj,i) => {\n                      return (<div key={obj} style={{\n                        display: 'grid',\n                        gridTemplateColumns: `repeat(${jsonData[0].length},1fr)`\n                      }}>\n                        {jsonData[i].map((obj) => {\n                          let style;\n                          if (i === 0) {\n                            style = {fontWeight:'bolder',color:'#8CFC86',marginBottom:'.5rem'}\n                          }\n                          return (<div key={obj} style = {style}>\n                            {obj}\n                          </div>)\n                        })}\n                      </div>)\n                    })\n                  }\n              </div>\n            </div>\n            )}\n          </div>\n        </div>\n        <div id='mobile'></div>\n      </div>\n    );\n};\n\nexport default Configurations;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,sBAAsB,CAAC,CAAC;AAC/B,OAAOC,YAAY,MAAM,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,cAAc,GAAGC,IAAA,IAAuC;EAAAC,EAAA;EAAA,IAAtC;IAAEC,YAAY;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAAJ,IAAA;EACvD,MAAM,CAACK,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxD,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgB,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACsB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGvB,QAAQ,CAAC;IAACgB,IAAI,EAAC;EAAE,CAAC,CAAC;EAE7Ef,SAAS,CAAC,MAAM;IACd,IAAIS,QAAQ,IAAIA,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAE;MACnCT,aAAa,CAACL,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC1BG,iBAAiB,CACfY,MAAM,CAACC,IAAI,CAAChB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAACiB,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;QACnDF,GAAG,CAACE,KAAK,CAAC,GAAG,EAAE;QACf,OAAOF,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CACP,CAAC;IACH;EACF,CAAC,EAAE,CAAClB,QAAQ,CAAC,CAAC;EAEdT,SAAS,CAAC,MAAK;IACb,IAAIiB,SAAS,KAAK,EAAE,EAAE;MACpBa,UAAU,CAAC,MAAM;QACfZ,YAAY,CAAC,EAAE,CAAC;MAClB,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,EAAC,CAACD,SAAS,CAAC,CAAC;EAEd,MAAMc,iBAAiB,GAAIC,CAAC,IAAK;IAC/BhB,OAAO,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACzB,CAAC;EAED,MAAMC,QAAQ,GAAGA,CAACpB,IAAI,EAACN,QAAQ,KAAK;IAClC,MAAM2B,IAAI,GAAG;MACXrB,IAAI;MACJN;IACF,CAAC;IACD,MAAM4B,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,EAAE7B;MACjB;IACF,CAAC;IACD8B,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACjBnC,KAAK,CAACyC,IAAI,CAAC,aAAa,EAAEN,IAAI,EAAEC,MAAM,CAAC,CACpCM,IAAI,CAAEC,QAAQ,IAAK;MAClBJ,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEG,QAAQ,CAACC,IAAI,CAAC;MACtD3B,YAAY,CAAC;QAAC4B,GAAG,EAAEF,QAAQ,CAACC,IAAI,CAACE,OAAO;QAAEC,KAAK,EAAE;MAAS,CAAC,CAAC;IAC9D,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBV,OAAO,CAACU,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1ChC,YAAY,CAAC;QAAC4B,GAAG,EAAEI,KAAK,CAACN,QAAQ,CAACC,IAAI,CAACK,KAAK;QAAEF,KAAK,EAAE;MAAS,CAAC,CAAC;IAClE,CAAC,CAAC;EACN,CAAC;EAED,oBACE5C,OAAA;IAAK+C,SAAS,EAAC,gBAAgB;IAAAC,QAAA,GAC3BnC,SAAS,iBAAKb,OAAA,CAACF,YAAY;MAAC6C,OAAO,EAAE9B,SAAS,CAAC6B,GAAI;MAACO,QAAQ,EAAEpC,SAAS,CAAC+B;IAAM;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAClFrD,OAAA;MAAIsD,KAAK,EAAE;QAACV,KAAK,EAAE;MAAS,CAAE;MAAAI,QAAA,EAAC;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzCrD,OAAA;MAAK+C,SAAS,EAAC,yBAAyB;MAAAC,QAAA,eACtChD,OAAA;QAAK+C,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtChD,OAAA;UAAGsD,KAAK,EAAE;YAACC,KAAK,EAAE,aAAa;YAAEC,MAAM,EAAE;UAAG,CAAE;UAAAR,QAAA,EAAC;QAAqC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxFrD,OAAA;UAAOyD,IAAI,EAAC,MAAM;UAACC,QAAQ,EAAEtD;QAAa;UAAA8C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAC5ChD,QAAQ,IAAIA,QAAQ,CAACc,MAAM,GAAG,CAAC,iBAC9BnB,OAAA;UAAK+C,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBhD,OAAA;YAAKsD,KAAK,EAAE;cAACK,OAAO,EAAC,MAAM;cAAEC,GAAG,EAAC,MAAM;cAACL,KAAK,EAAC,MAAM;cAACM,cAAc,EAAC,QAAQ;cAACC,UAAU,EAAC;YAAQ,CAAE;YAAAd,QAAA,gBAChGhD,OAAA;cAAIsD,KAAK,EAAE;gBAACK,OAAO,EAAC,MAAM;gBAACJ,KAAK,EAAC;cAAa,CAAE;cAAAP,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChErD,OAAA;cAAOyD,IAAI,EAAC,MAAM;cAACM,WAAW,EAAC,mBAAmB;cAACL,QAAQ,EAAE/B;YAAkB;cAAAuB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClFrD,OAAA;cAAQgE,OAAO,EAAEjC,QAAQ,CAACpB,IAAI,EAACN,QAAQ,CAAE;cAAA2C,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC,eACNrD,OAAA;YAAK+C,SAAS,EAAC,gBAAgB;YAACO,KAAK,EAAE;cACrCK,OAAO,EAAE,MAAM;cACfM,gBAAgB,EAAG,UAAS5D,QAAQ,CAACc,MAAO;YAC9C,CAAE;YAAA6B,QAAA,EAEI3C,QAAQ,CAAC6D,GAAG,CAAC,CAACC,GAAG,EAACC,CAAC,KAAK;cACtB,oBAAQpE,OAAA;gBAAesD,KAAK,EAAE;kBAC5BK,OAAO,EAAE,MAAM;kBACfU,mBAAmB,EAAG,UAAShE,QAAQ,CAAC,CAAC,CAAC,CAACc,MAAO;gBACpD,CAAE;gBAAA6B,QAAA,EACC3C,QAAQ,CAAC+D,CAAC,CAAC,CAACF,GAAG,CAAEC,GAAG,IAAK;kBACxB,IAAIb,KAAK;kBACT,IAAIc,CAAC,KAAK,CAAC,EAAE;oBACXd,KAAK,GAAG;sBAACgB,UAAU,EAAC,QAAQ;sBAAC1B,KAAK,EAAC,SAAS;sBAAC2B,YAAY,EAAC;oBAAO,CAAC;kBACpE;kBACA,oBAAQvE,OAAA;oBAAesD,KAAK,EAAIA,KAAM;oBAAAN,QAAA,EACnCmB;kBAAG,GADYA,GAAG;oBAAAjB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEhB,CAAC;gBACR,CAAC;cAAC,GAZcc,GAAG;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAahB,CAAC;YACR,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNrD,OAAA;MAAKwE,EAAE,EAAC;IAAQ;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpB,CAAC;AAEZ,CAAC;AAAClD,EAAA,CAnGIF,cAAc;AAAAwE,EAAA,GAAdxE,cAAc;AAqGpB,eAAeA,cAAc;AAAC,IAAAwE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}